{% load static %}
<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8">
		<title>DeskApp - Bootstrap Admin Dashboard HTML Template</title>
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
		<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
			rel="stylesheet">
		<link rel="stylesheet" type="text/css" href="{% static 'styles/core.css' %}">
		<link rel="stylesheet" type="text/css" href="{% static 'styles/icon-font.min.css' %}">
		<link rel="stylesheet" type="text/css" href="{% static 'styles/style.css' %}">
		<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
		<style>
			.header {
				background-color: #f8f9fa;
				padding: 10px 20px;
				border-bottom: 1px solid #dee2e6;
			}

			.header-search .form-control {
				border-radius: 20px;
				border: 1px solid #ced4da;
			}

			.header-right .dropdown-menu {
				min-width: 150px;
			}

			.left-side-bar {
				background-color: #343a40;
				color: #fff;
			}

			.left-side-bar .sidebar-menu ul li a {
				color: #adb5bd;
			}

			.left-side-bar .sidebar-menu ul li a:hover {
				color: #fff;
			}

			/* Theme for Light/Dark Mode */
			body.light-mode {
				background-color: #ffffff;
				color: #000;
			}

			body.dark-mode {
				background-color: #343a40;
				color: #fff;
			}

			.theme-toggle-btn {
				cursor: pointer;
				color: #007bff;
			}

		</style>
	</head>

	<body class="light-mode"> <!-- Default theme is light -->
		<div class="header">
			<div class="header-left" style="display: flex; align-items: center;">
				<div class="header-search" style="position: relative;">
					<form>
						<div class="form-group mb-0" style="display: flex; align-items: center;">
							<i class="dw dw-search2 search-icon" style="position: absolute; left: 10px;"></i>
							<input type="text" class="form-control search-input" placeholder="Search Here"
								style="padding-left: 30px; width: 300px;">
						</div>
					</form>
				</div>
			</div>
			<div class="header-right">
				<div class="user-info-dropdown">
					<div class="dropdown">
						<a class="dropdown-toggle" href="#" role="button" data-toggle="dropdown">
							<span class="user-name">{{ user.username }}</span>
							<i class="dw dw-down-arrow"></i> <!-- Dropdown icon -->
						</a>
						<div class="dropdown-menu dropdown-menu-right dropdown-menu-icon-list">
							<a class="dropdown-item" href="{% url 'logout' %}"><i class="dw dw-logout"></i> Log Out</a>
						</div>
					</div>
				</div>
			</div>
			<div class="theme-toggle-btn" onclick="toggleTheme()">Switch Theme</div>
		</div>

		<div class="left-side-bar">
			<div class="menu-block customscroll">
				<div class="sidebar-menu">
					<ul id="accordion-menu">
						<li class="dropdown">
							<a href="javascript:;" class="dropdown-toggle">
								<span class="micon dw dw-menu"></span><span class="mtext">Dropdown</span>
							</a>
							<ul class="submenu">
								<li><a href="#">Authors</a></li>
								<li><a href="#">Sellers</a></li>
							</ul>
						</li>
					</ul>
				</div>
			</div>
		</div>

		<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
		<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
		<script src="{% static 'vendors/scripts/core.js' %}"></script>
		<script src="{% static 'vendors/scripts/script.min.js' %}"></script>
		<script src="{% static 'vendors/scripts/process.js' %}"></script>
		<script src="{% static 'vendors/scripts/layout-settings.js' %}"></script>

		<script>
			// Toggle dropdown visibility
			document.addEventListener('DOMContentLoaded', function () {
				const dropdownToggles = document.querySelectorAll('.dropdown-toggle');
				dropdownToggles.forEach(toggle => {
					toggle.addEventListener('click', function () {
						// Close all other dropdowns
						const allDropdowns = document.querySelectorAll('.dropdown-menu');
						allDropdowns.forEach(menu => {
							if (menu !== this.nextElementSibling) {
								menu.classList.remove('show');
							}
						});
						// Toggle the current dropdown
						this.nextElementSibling.classList.toggle('show');
					});
				});
			});

			// Toggle between light and dark themes
			function toggleTheme() {
				const body = document.body;
				body.classList.toggle('light-mode');
				body.classList.toggle('dark-mode');
			}
		</script>
	</body>

</html>
