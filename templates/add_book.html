{% extends 'base.html' %}
{% block title %}Add Book{% endblock %}

{% block content %}
<div class="main-container">
    <div class="pd-ltr-20">
        <h1 style="font-size: 2rem; color: #333; margin-bottom: 20px;">Add New Book</h1>

        <div class="card-box pd-20 height-100-p mb-30">
            <div class="row align-items-center">

                <div class="container">
                    <h2 style="font-size: 1.5rem; color: #555;">Please Fill Out the Form</h2>

                    <form method="POST" enctype="multipart/form-data"
                        style="max-width: 600px; margin: 0 auto; padding: 20px; border: 1px solid #ddd; border-radius: 10px; background-color: #f9f9f9;">
                        {% csrf_token %}

                        <!-- Title Input -->
                        <label for="title" style="display: block; margin-bottom: 5px; font-weight: bold;">Title</label>
                        <input type="text" name="title" required
                            style="width: 100%; padding: 10px; margin-bottom: 20px; border-radius: 5px; border: 1px solid #ccc;">

                        <!-- Author Input -->
                        <label for="author"
                            style="display: block; margin-bottom: 5px; font-weight: bold;">Author</label>
                        <input type="text" name="author" value="{{ default_author }}"
                            style="width: 100%; padding: 10px; margin-bottom: 20px; border-radius: 5px; border: 1px solid #ccc;">

                        <!-- Description Input -->
                        <label for="description"
                            style="display: block; margin-bottom: 5px; font-weight: bold;">Description</label>
                        <textarea name="description" required
                            style="width: 100%; padding: 10px; margin-bottom: 20px; border-radius: 5px; border: 1px solid #ccc;"></textarea>

                        <!-- Genre Input -->
                        <label for="genre" style="display: block; margin-bottom: 5px; font-weight: bold;">Genre</label>
                        <input type="text" name="genre" required
                            style="width: 100%; padding: 10px; margin-bottom: 20px; border-radius: 5px; border: 1px solid #ccc;">

                        <!-- File Input -->
                        <label for="file" style="display: block; margin-bottom: 5px; font-weight: bold;">Book
                            File</label>
                        <input type="file" name="file" required id="fileInput"
                            style="width: 100%; padding: 10px; margin-bottom: 20px; border-radius: 5px; border: 1px solid #ccc;">

                        <!-- File Name Display -->
                        <div id="fileName" style="font-size: 14px; color: #555; margin-bottom: 20px;"></div>

                        <!-- Submit Button -->
                        <button type="submit"
                            style="background-color: #4CAF50; color: white; padding: 10px 20px; border-radius: 5px; border: none; cursor: pointer; font-size: 16px;">Add
                            Book</button>
                    </form>

                </div>

            </div>
        </div>
    </div>
</div>

<!-- JavaScript for file name display -->
<script>
    document.getElementById('fileInput').addEventListener('change', function () {
        var fileName = this.files[0] ? this.files[0].name : 'No file chosen';
        document.getElementById('fileName').textContent = 'Selected file: ' + fileName;
    });
</script>

{% endblock %}
